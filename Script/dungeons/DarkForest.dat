/*
 *
 *  Iter Vehemens ad Necem (IVAN)
 *  Copyright (C) Timo Kiviluoto
 *  Released under the GNU General
 *  Public License
 *
 *  See LICENSING which should be included
 *  along with this file for more details
 *
 */

/*
 * NOTICE!!!
 *
 * This file contains SPOILERS, which might ruin your IVAN experience
 * totally. Also, editing anything can DESTROY GAME BALANCE or CAUSE
 * OBSCURE BUGS if you don't know what you're doing. So from here on,
 * proceed at your own risk!
 */

/*
 * 0       11-12-13-14
 * |      /
 * 1--3--4----7
 * |   \     /
 *  \   5---/--8\
 *   2   \ /     --10
 *   |\---6     /
 *   \---------9
 *
 * 0       - entry level
 * 10      - chateau
 * 11 - 14 - Lunethia
 */

Dungeon DARK_FOREST;
{
  Levels = 15;
  Description = "dark forest";
  ShortDescription = "DF";

  LevelDefault
  {
    Size = 42, 26;
    GenerateMonsters = true;
    Rooms = 0:5;
    Items = 25:50;
    IsOnGround = true;
    TeamDefault = MONSTER_TEAM;
    LOSModifier = 64;
    IgnoreDefaultSpecialSquares = false;
    CanGenerateBone = true;
    DifficultyBase = 50;
    DifficultyDelta = 10;
    MonsterAmountBase = 10;
    MonsterAmountDelta = 5;
    MonsterGenerationIntervalBase = 150;
    MonsterGenerationIntervalDelta = -15;
    ItemMinPriceBase = 20;
    ItemMinPriceDelta = 10;
    EnchantmentMinusChanceBase = 0;
    EnchantmentMinusChanceDelta = 0;
    EnchantmentPlusChanceBase = 5;
    EnchantmentPlusChanceDelta = 5;
    BackGroundType = GREEN_FRACTAL;
	  FillSquare = solidterrain(DARK_GRASS_TERRAIN), 0;
    TunnelSquare = solidterrain(SAND_TERRAIN), 0;
    IsCatacomb = false;
    AutoReveal = false;
    EarthquakesAffectTunnels = false;
    AudioPlayList =
    {
      3,
      "Dungeon.mid",
      "Dungeon2.mid",
      "Dungeon3.mid";
    }

    Square, Random;
    {
      Items == mine { Team = MONSTER_TEAM; IsActive = true; }
      Times = 0:3;
    }

    Square, Random;
    {
      Items == beartrap { Team = MONSTER_TEAM; IsActive = true; }
      Times = 0:3;
    }

    Square, Random;
    {
      Items == gastrap { Team = MONSTER_TEAM; IsActive = true; }
      Times = 0:3;
    }

    RoomDefault
    {
      Pos = 2:XSize-5,2:YSize-5;
      WallSquare = solidterrain(SAND_TERRAIN), SAND_STONE earth;
      FloorSquare = solidterrain(SAND_TERRAIN), 0;
      DoorSquare = solidterrain(SAND_TERRAIN), 0;

      Size = 4:7,4:7;
      AltarPossible = true;
      GenerateDoor = true;
      DivineMaster = 0;
      GenerateTunnel = false;
      GenerateLanterns = false;
      Type = ROOM_NORMAL;
      GenerateFountains = true;
      AllowLockedDoors = false;
      AllowBoobyTrappedDoors = false;
      Shape = ROUND_CORNERS;
      IsInside = true;
      GenerateWindows = false;
      UseFillSquareWalls = false;
      Flags = 0;
    }
  }

  Level 0;
  {
    LevelMessage = "You wander deep into the forest.";

    Square, Pos 0, 13;
    {
      EntryIndex = WAYPOINT_UP;
    }

    Square, Random HAS_NO_OTERRAIN;
    {
      OTerrain = stairs(WAYPOINT_DOWN);
      EntryIndex = WAYPOINT_DOWN;
    }
  }
}
